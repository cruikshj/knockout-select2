!function(a){"function"==typeof define&&define.amd?define(["jquery","knockout","module"],a):a(jQuery,ko)}(function(a,b,c){"use strict";function d(c,d){var e,f=b.isObservable(d);f&&(e=d.equalityComparer,d.equalityComparer=function(){return!0}),a(c).trigger("change"),f&&(d.equalityComparer=e)}var e="select2";c&&c.config().name&&(e=c.config().name);var f=e+"Data";return b.bindingHandlers[e]={init:function(c,e,g,h,i){var j=b.unwrap(e()),k=g(),l=!1,m=null;a(c).on("select2:selecting select2:unselecting",function(){l=!0}),a(c).on("select2:select select2:unselect",function(){l=!1}),b.isObservable(k.value)?k.value.subscribe(function(a){l||d(c,this._target||this.target)}):b.isObservable(k.selectedOptions)&&k.selectedOptions.subscribe(function(a){l||d(c,this._target||this.target)}),b.isWriteableObservable(k[f])&&(m=function(){k[f](a(c).select2("data"))},a(c).on("change",m)),setTimeout(function(){a(c).select2(j),b.utils.domNodeDisposal.addDisposeCallback(c,function(){a(c).select2("destroy"),null!==m&&a(c).off("change",m)})},0)}}});